<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>Install Vault | WhiteStar Docs</title>
    <meta name="description" content="WhiteStar Systems Documentation Hub">
    <link rel="icon" href="/logo.png">
  <link rel="manifest" href="/manifest.json">
  <meta name="theme-color" content="#242524">
  <meta name="apple-mobile-web-app-capable" content="yes">
  <meta name="apple-mobile-web-app-status-bar-style" content="black">
  <link rel="apple-touch-icon" href="/icons/apple-touch-icon-152x152.png">
  <link rel="mask-icon" href="/icons/safari-pinned-tab.svg" color="#242524">
  <meta name="msapplication-TileImage" content="/icons/ms-icon-144x144.png">
  <meta name="msapplication-TileColor" content="#000000">
  <link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.0.13/css/all.css" integrity="sha384-DNOHZ68U8hZfKXOrtjWvjxusGo9WQnrNx2sqG0tfsghAvtVlRW3tvkXWZh58N9jp" crossorigin="anonymous">
    
    <link rel="preload" href="/assets/css/0.styles.0b27800c.css" as="style"><link rel="preload" href="/assets/js/app.ef7e9bc6.js" as="script"><link rel="preload" href="/assets/js/3.d361e002.js" as="script"><link rel="prefetch" href="/assets/js/2.d7bfeb83.js"><link rel="prefetch" href="/assets/js/vendors~docsearch.74258d3e.js"><link rel="prefetch" href="/assets/js/4.3fb1906a.js"><link rel="prefetch" href="/assets/js/5.f23e0abe.js"><link rel="prefetch" href="/assets/js/6.22052cfe.js"><link rel="prefetch" href="/assets/js/7.889cdb9e.js"><link rel="prefetch" href="/assets/js/8.2e6b4303.js"><link rel="prefetch" href="/assets/js/9.08c93109.js"><link rel="prefetch" href="/assets/js/10.1387c2b5.js"><link rel="prefetch" href="/assets/js/11.1701807b.js"><link rel="prefetch" href="/assets/js/12.5ab35af5.js"><link rel="prefetch" href="/assets/js/13.ce77ccda.js"><link rel="prefetch" href="/assets/js/14.7f515b3e.js"><link rel="prefetch" href="/assets/js/15.d7509363.js"><link rel="prefetch" href="/assets/js/16.2018e99a.js"><link rel="prefetch" href="/assets/js/17.bc16aafd.js"><link rel="prefetch" href="/assets/js/18.cf926b52.js"><link rel="prefetch" href="/assets/js/19.e2bf9804.js"><link rel="prefetch" href="/assets/js/20.e2296a80.js"><link rel="prefetch" href="/assets/js/21.6c160823.js"><link rel="prefetch" href="/assets/js/22.176c6ad1.js"><link rel="prefetch" href="/assets/js/23.bc9490c3.js"><link rel="prefetch" href="/assets/js/24.dfc499c9.js"><link rel="prefetch" href="/assets/js/25.5addac54.js"><link rel="prefetch" href="/assets/js/26.4aea06bb.js"><link rel="prefetch" href="/assets/js/27.b8112f86.js"><link rel="prefetch" href="/assets/js/28.b6c34924.js"><link rel="prefetch" href="/assets/js/29.4c1638a0.js"><link rel="prefetch" href="/assets/js/30.fe5d9bb1.js"><link rel="prefetch" href="/assets/js/31.3fd112c3.js"><link rel="prefetch" href="/assets/js/32.16d32761.js"><link rel="prefetch" href="/assets/js/33.58c33329.js"><link rel="prefetch" href="/assets/js/34.e4922839.js">
    <link rel="stylesheet" href="/assets/css/0.styles.0b27800c.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div><a href="/" class="home-link router-link-active"><!----><span class="site-name">
      WhiteStar Docs
    </span></a><div class="links"><form id="search-form" class="algolia-search-wrapper search-box"><input id="algolia-search-input" class="search-query"></form><nav class="nav-links can-hide"><div class="nav-item"><a href="/" class="nav-link">Docs Home</a></div><div class="nav-item"><div class="dropdown-wrapper"><a class="dropdown-title"><span class="title">Products</span><span class="arrow right"></span></a><ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----><a href="/welcome/" class="nav-link">Welcome</a></li><li class="dropdown-item"><!----><a href="/ms-mon/" class="nav-link">Mediasite Recorder Monitor</a></li><li class="dropdown-item"><!----><a href="/inventory/" class="nav-link">Inventory</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><a class="dropdown-title"><span class="title">Tools</span><span class="arrow right"></span></a><ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----><a href="/hub/" class="nav-link">Hub</a></li><li class="dropdown-item"><!----><a href="/vault/" class="nav-link router-link-active">Vault</a></li></ul></div></div><a href="https://github.com/ws-systems/docs" target="_blank" rel="noopener noreferrer" class="repo-link">
    GitHub
    <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></nav></div></header><div class="sidebar-mask"></div><div class="sidebar"><nav class="nav-links"><div class="nav-item"><a href="/" class="nav-link">Docs Home</a></div><div class="nav-item"><div class="dropdown-wrapper"><a class="dropdown-title"><span class="title">Products</span><span class="arrow right"></span></a><ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----><a href="/welcome/" class="nav-link">Welcome</a></li><li class="dropdown-item"><!----><a href="/ms-mon/" class="nav-link">Mediasite Recorder Monitor</a></li><li class="dropdown-item"><!----><a href="/inventory/" class="nav-link">Inventory</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><a class="dropdown-title"><span class="title">Tools</span><span class="arrow right"></span></a><ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----><a href="/hub/" class="nav-link">Hub</a></li><li class="dropdown-item"><!----><a href="/vault/" class="nav-link router-link-active">Vault</a></li></ul></div></div><a href="https://github.com/ws-systems/docs" target="_blank" rel="noopener noreferrer" class="repo-link">
    GitHub
    <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></nav><ul class="sidebar-links"><li><div class="sidebar-group first"><p class="sidebar-heading open"><span>Vault</span><!----></p><ul class="sidebar-group-items"><li><a href="/vault/" class="sidebar-link">Introduction</a></li><li><a href="/vault/installation.html" class="active sidebar-link">Install Vault</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/vault/installation.html#initialize-the-vault" class="sidebar-link">Initialize the Vault</a></li><li class="sidebar-sub-header"><a href="/vault/installation.html#your-first-secret" class="sidebar-link">Your First Secret</a></li></ul></li><li><a href="/vault/configure-vault.html" class="sidebar-link">Configure Vault</a></li><li><a href="/vault/access_control.html" class="sidebar-link">Access Control</a></li><li><a href="/vault/adding-a-ui.html" class="sidebar-link">Adding a User Interface</a></li><li><a href="/vault/additional_resources.html" class="sidebar-link">Additional Resources</a></li></ul></div></li></ul></div><div class="page"><div class="content"><h1 id="install-vault"><a href="#install-vault" aria-hidden="true" class="header-anchor">#</a> Install Vault</h1><p>Now that we have installed the Key/Value store, we can proceed with installing the Vault Service. Just like Consul, it can be be downloaded from <a href="https://www.vaultproject.io" target="_blank" rel="noopener noreferrer">https://www.vaultproject.io/<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a>.</p><p>We will need to create an init script in <code>/etc/init.d</code> and register it as well. <a href="https://bitbucket.org/snippets/sdsu-its/66bEM" target="_blank" rel="noopener noreferrer">View the Script<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a>. You will also need to create a config file in <code>/etc</code>: <code>nano /etc/vault/config.hcl</code>. The default values should work well for our application.</p><div class="language- extra-class"><pre class="language-text"><code>backend &quot;file&quot; {
 path = &quot;/etc/vault/data&quot;
}

listener &quot;tcp&quot; {
 address = &quot;127.0.0.1:8200&quot;
 tls_disable = 1
}
</code></pre></div><p>Make the script executable via: <code>sudo chmod +x vault</code></p><p>Register the script via: <code>sudo update-rc.d vault defaults</code></p><p>Once you have finished the installation and configuration, you will go back and edit the tcp listener to allow it to bind to a public ip, if desired, to allow outside requests to your vault.</p><h2 id="initialize-the-vault"><a href="#initialize-the-vault" aria-hidden="true" class="header-anchor">#</a> Initialize the Vault</h2><p>Once you have installed and configured the Start Up scripts for both Vault and Consul, you can start the Vault Configuration procedure. To initialize the vault, you will need to call <code>vault init</code>. Vault will likely not know where to find vault, which you can do by setting the <code>VAULT_ADDR</code> environment variable to point to the URL and Port of which you have configured the Vault. If you are running vault on your local machine (localhost), run <code>export VAULT_ADDR='https://127.0.0.1:8200'</code>.</p><p>You are only able to call <code>vault init</code> once on a brand new instance. Vault will initialize, generate encryption keys, and root tokens, and prints out a set of 5 keys and a root token, <strong>SAVE THEM</strong>! Whenever you restart the Vault, or seal the vault, you will need 3 of the encryption keys to unseal the vault. This is to ensure that a single malicious individual cannot access the vault. Vault recommends that you encrypt (via PGP/<a href="https://keybase.io/" target="_blank" rel="noopener noreferrer">Keybase<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a>) and distribute the keys to 5 different individuals, three of which are  needed to unlock the vault.</p><h2 id="your-first-secret"><a href="#your-first-secret" aria-hidden="true" class="header-anchor">#</a> Your First Secret</h2><p>Now that you have initialized your Vault, lets add your first secret. Unseal the Vault using the <code>vault unseal</code> command and 3 of the 5 keys that your were provided with during the initialization; you will need to do this every time your seal, or restart the vault. Next, login via the <code>vault auth</code> command and use the root token you were provided along with your keys. You can now access and modify the vault, as well as it's settings.</p><p>Let's add your first secret, which is often used to test connection and Access Control Policies in your vault.</p><div class="language- extra-class"><pre class="language-text"><code>vault write secret/hello value=world
</code></pre></div><p>It's that easy!</p></div><div class="page-edit"><div class="edit-link"><a href="https://github.com/ws-systems/docs/edit/master/vault/installation.md" target="_blank" rel="noopener noreferrer">Edit this page on GitHub</a><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></div><div class="last-updated"><span class="prefix">Updated: </span><span class="time">6/21/2018, 1:02:38 AM</span></div></div><div class="page-nav"><p class="inner"><span class="prev">
        ← <a href="/vault/" class="prev router-link-active">
          Introduction
        </a></span><span class="next"><a href="/vault/configure-vault.html">
          Configure Vault
        </a> →
      </span></p></div></div></div></div>
    <script src="/assets/js/3.d361e002.js" defer></script><script src="/assets/js/app.ef7e9bc6.js" defer></script>
  </body>
</html>
