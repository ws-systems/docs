<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>Deployment | WhiteStar Docs</title>
    <meta name="description" content="WhiteStar Systems Documentation Hub">
    <link rel="icon" href="/logo.png">
  <link rel="manifest" href="/manifest.json">
  <meta name="theme-color" content="#242524">
  <meta name="apple-mobile-web-app-capable" content="yes">
  <meta name="apple-mobile-web-app-status-bar-style" content="black">
  <link rel="apple-touch-icon" href="/icons/apple-touch-icon-152x152.png">
  <link rel="mask-icon" href="/icons/safari-pinned-tab.svg" color="#242524">
  <meta name="msapplication-TileImage" content="/icons/ms-icon-144x144.png">
  <meta name="msapplication-TileColor" content="#000000">
  <link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.0.13/css/all.css" integrity="sha384-DNOHZ68U8hZfKXOrtjWvjxusGo9WQnrNx2sqG0tfsghAvtVlRW3tvkXWZh58N9jp" crossorigin="anonymous">
    
    <link rel="preload" href="/assets/css/0.styles.16937512.css" as="style"><link rel="preload" href="/assets/js/app.6484a199.js" as="script"><link rel="preload" href="/assets/js/13.61a170da.js" as="script"><link rel="prefetch" href="/assets/js/1.09750a29.js"><link rel="prefetch" href="/assets/js/2.719529d2.js"><link rel="prefetch" href="/assets/js/3.ee60f021.js"><link rel="prefetch" href="/assets/js/4.d5a2df42.js"><link rel="prefetch" href="/assets/js/5.97459eb8.js"><link rel="prefetch" href="/assets/js/6.bb201278.js"><link rel="prefetch" href="/assets/js/7.a0533647.js"><link rel="prefetch" href="/assets/js/8.3677a188.js"><link rel="prefetch" href="/assets/js/9.a95691bd.js"><link rel="prefetch" href="/assets/js/10.abbbfee7.js"><link rel="prefetch" href="/assets/js/11.fbfc22e5.js"><link rel="prefetch" href="/assets/js/12.7db3729b.js"><link rel="prefetch" href="/assets/js/14.a0b5025a.js"><link rel="prefetch" href="/assets/js/15.49e3632f.js"><link rel="prefetch" href="/assets/js/16.102b5ecf.js"><link rel="prefetch" href="/assets/js/17.6afef11d.js"><link rel="prefetch" href="/assets/js/18.a7308d75.js"><link rel="prefetch" href="/assets/js/19.4befb2bb.js"><link rel="prefetch" href="/assets/js/20.43ed67f2.js"><link rel="prefetch" href="/assets/js/21.6c1a9761.js"><link rel="prefetch" href="/assets/js/22.b6edb942.js"><link rel="prefetch" href="/assets/js/23.51e962dd.js"><link rel="prefetch" href="/assets/js/24.2dae9fa2.js"><link rel="prefetch" href="/assets/js/25.d6b7ec7b.js"><link rel="prefetch" href="/assets/js/26.7e03f14e.js"><link rel="prefetch" href="/assets/js/27.dd1639b3.js">
    <link rel="stylesheet" href="/assets/css/0.styles.16937512.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div><a href="/" class="home-link router-link-active"><!----><span class="site-name">
      WhiteStar Docs
    </span></a><div class="links"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""><!----></div><nav class="nav-links can-hide"><div class="nav-item"><a href="/" class="nav-link">Docs Home</a></div><div class="nav-item"><div class="dropdown-wrapper"><a class="dropdown-title"><span class="title">Products</span><span class="arrow right"></span></a><ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----><a href="/welcome/" class="nav-link">Welcome</a></li><li class="dropdown-item"><!----><a href="/ms-mon/" class="nav-link">Mediasite Recorder Monitor</a></li><li class="dropdown-item"><!----><a href="/inventory/" class="nav-link router-link-active">Inventory</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><a class="dropdown-title"><span class="title">Tools</span><span class="arrow right"></span></a><ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----><a href="/hub/" class="nav-link">Hub</a></li><li class="dropdown-item"><!----><a href="/vault/" class="nav-link">Vault</a></li></ul></div></div><a href="https://github.com/ws-systems/docs" target="_blank" rel="noopener noreferrer" class="repo-link">
    GitHub
    <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></nav></div></header><div class="sidebar-mask"></div><div class="sidebar"><nav class="nav-links"><div class="nav-item"><a href="/" class="nav-link">Docs Home</a></div><div class="nav-item"><div class="dropdown-wrapper"><a class="dropdown-title"><span class="title">Products</span><span class="arrow right"></span></a><ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----><a href="/welcome/" class="nav-link">Welcome</a></li><li class="dropdown-item"><!----><a href="/ms-mon/" class="nav-link">Mediasite Recorder Monitor</a></li><li class="dropdown-item"><!----><a href="/inventory/" class="nav-link router-link-active">Inventory</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><a class="dropdown-title"><span class="title">Tools</span><span class="arrow right"></span></a><ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----><a href="/hub/" class="nav-link">Hub</a></li><li class="dropdown-item"><!----><a href="/vault/" class="nav-link">Vault</a></li></ul></div></div><a href="https://github.com/ws-systems/docs" target="_blank" rel="noopener noreferrer" class="repo-link">
    GitHub
    <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></nav><ul class="sidebar-links"><li><a href="/inventory/" class="sidebar-link">Inventory Management</a></li><li><div class="sidebar-group"><p class="sidebar-heading"><span>Introduction</span><!----></p><ul class="sidebar-group-items"><li><a href="/inventory/checkout.html" class="sidebar-link">Item Checkout</a></li><li><a href="/inventory/checkin.html" class="sidebar-link">Item Check-in</a></li></ul></div></li><li><div class="sidebar-group"><p class="sidebar-heading"><span>Administrator Tools</span><!----></p><ul class="sidebar-group-items"><li><a href="/inventory/admin/" class="sidebar-link">Overview</a></li><li><a href="/inventory/admin/items.html" class="sidebar-link">Items</a></li><li><a href="/inventory/admin/macros.html" class="sidebar-link">Macros</a></li><li><a href="/inventory/admin/categories.html" class="sidebar-link">Categories</a></li><li><a href="/inventory/admin/transactions.html" class="sidebar-link">Transactions</a></li><li><a href="/inventory/admin/users.html" class="sidebar-link">Users</a></li></ul></div></li><li><div class="sidebar-group"><p class="sidebar-heading open"><span>System Configuration</span><!----></p><ul class="sidebar-group-items"><li><a href="/inventory/config/" class="active sidebar-link">Deployment</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/inventory/config/#tomcat-configuration" class="sidebar-link">Tomcat Configuration</a></li><li class="sidebar-sub-header"><a href="/inventory/config/#vault-configuration" class="sidebar-link">Vault Configuration</a></li><li class="sidebar-sub-header"><a href="/inventory/config/#default-credentials" class="sidebar-link">Default Credentials</a></li></ul></li><li><a href="/inventory/config/kit.html" class="sidebar-link">Kit List</a></li><li><a href="/inventory/config/erd.html" class="sidebar-link">ERD</a></li></ul></div></li></ul></div><div class="page"><div class="content"><h1 id="deployment"><a href="#deployment" aria-hidden="true" class="header-anchor">#</a> Deployment</h1><p>The Video Inventory Management system is packaged as a ready to deploy WAR file, which can be deployed to any modern Tomcat container. VIMS uses environment variables to load in the Vault server URL, App Role, and App Secret.</p><h2 id="tomcat-configuration"><a href="#tomcat-configuration" aria-hidden="true" class="header-anchor">#</a> Tomcat Configuration</h2><p>To set environment variables in Tomcat, you will need to define them in either the <code>setenv.sh</code> or <code>setenv.bat</code> file. The script is placed either into CATALINA_BASE/bin or into CATALINA_HOME/bin directory and is named setenv.bat (on Windows) or setenv.sh (on *nix). The file has to be readable.</p><p>By default the setenv script file is absent. If the script file is present both in CATALINA_BASE and in CATALINA_HOME, the one in CATALINA_BASE is preferred.</p><p>In that file, you can define environment variables as you would on the base system (linux, windows, etc.). For example on Debian Linux, we would have <code>export VAULT_ADDR=&quot;https://url:port&quot;</code>.</p><h2 id="vault-configuration"><a href="#vault-configuration" aria-hidden="true" class="header-anchor">#</a> Vault Configuration</h2><p>You will need to create two secrets in the vault, one that will have the information for your production system, the other with your testing configuration. Information on how to setup Vault and AppRoles can be found in the <a href="/vault/">Vault Documentation</a>.</p><h3 id="db-configuration"><a href="#db-configuration" aria-hidden="true" class="header-anchor">#</a> DB Configuration</h3><p>You will need to configure a MySQL Database with the <a href="/inventory/config/erd.html">DDL provided</a>. It is recommended that you create a user that has all permissions, however is restricted to only the database you just created. You can also implement IP restrictions if you desire.</p><h3 id="environment-variables"><a href="#environment-variables" aria-hidden="true" class="header-anchor">#</a> Environment Variables</h3><table><thead><tr><th style="text-align:left">Name</th><th style="text-align:left">Value</th></tr></thead><tbody><tr><td style="text-align:left">VAULT_ADDR</td><td style="text-align:left">Vault URL, including protocol and port number</td></tr><tr><td style="text-align:left">VAULT_ROLE</td><td style="text-align:left">App Role ID</td></tr><tr><td style="text-align:left">VAULT_SECRET</td><td style="text-align:left">App Role Secret</td></tr></tbody></table><h3 id="vault-secrets"><a href="#vault-secrets" aria-hidden="true" class="header-anchor">#</a> Vault Secrets</h3><table><thead><tr><th style="text-align:left">Name</th><th style="text-align:left">Value</th></tr></thead><tbody><tr><td style="text-align:left">db-url</td><td style="text-align:left">jdbc:mysql://db_host:3306/db_name</td></tr><tr><td style="text-align:left">db-url</td><td style="text-align:left">Database Username</td></tr><tr><td style="text-align:left">db-password</td><td style="text-align:left">Database Password</td></tr><tr><td style="text-align:left">project_token</td><td style="text-align:left">Unique Project Identifier for Session Tokens, If changed, all tokens will become invalid.</td></tr><tr><td style="text-align:left">token_cypher</td><td style="text-align:left">Token Encryption Cypher. If changed, all tokens will become invalid.</td></tr><tr><td style="text-align:left">token_ttl</td><td style="text-align:left">Token Longevity (How long will a user stay logged in) in Milliseconds Recommended Value: 86400000 -&gt; 24 Hours.</td></tr></tbody></table><p>Be sure to replace db_host, db_name and possibly the port with your MySQL server info</p><h2 id="default-credentials"><a href="#default-credentials" aria-hidden="true" class="header-anchor">#</a> Default Credentials</h2><p>On the first run, provided there are no users in your User's table, a default Admin user will be created.</p><p>Username: <code>admin</code></p><p>Password: <code>admin</code></p><p>It is highly recommended that you either delete the admin user, or at a minimum change the admin password.</p></div><div class="page-edit"><div class="edit-link"><a href="https://github.com/ws-systems/docs/edit/master/inventory/config/README.md" target="_blank" rel="noopener noreferrer">Edit this page on GitHub</a><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></div><div class="last-updated"><span class="prefix">Updated: </span><span class="time">6/21/2018, 1:02:38 AM</span></div></div><div class="page-nav"><p class="inner"><span class="prev">
        ← <a href="/inventory/admin/users.html" class="prev">
          Users
        </a></span><span class="next"><a href="/inventory/config/kit.html">
          Kit List
        </a> →
      </span></p></div></div></div></div>
    <script src="/assets/js/13.61a170da.js" defer></script><script src="/assets/js/app.6484a199.js" defer></script>
  </body>
</html>
