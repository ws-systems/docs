(window.webpackJsonp=window.webpackJsonp||[]).push([[14],{169:function(e,t,n){e.exports=n.p+"assets/img/update_agent.86cbd3f7.png"},170:function(e,t,n){e.exports=n.p+"assets/img/manage_agents.c7795a2c.png"},223:function(e,t,n){"use strict";n.r(t);var a=[function(){var e=this.$createElement,t=this._self._c||e;return t("h1",{attrs:{id:"deploying-an-agent"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#deploying-an-agent","aria-hidden":"true"}},[this._v("#")]),this._v(" Deploying an Agent")])},function(){var e=this.$createElement,t=this._self._c||e;return t("h2",{attrs:{id:"create-the-container"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#create-the-container","aria-hidden":"true"}},[this._v("#")]),this._v(" Create the Container")])},function(){var e=this.$createElement,t=this._self._c||e;return t("p",[this._v("You will need to set the "),t("code",[this._v("MS_MON_SERVER_URL")]),this._v(" to the URL of the Mediasite Recorder Monitor Server this agent will report to. The "),t("code",[this._v("MS_MON_AGENT_NAME")]),this._v(" does not need to be unique and is used to identify the agent to users in the Web Admin Panel from within the Monitor.")])},function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"language-bash extra-class"},[n("pre",{pre:!0,attrs:{class:"language-bash"}},[n("code",[e._v("docker create --name mms-agent \\\n  -e MS_MON_SERVER_URL"),n("span",{attrs:{class:"token operator"}},[e._v("=")]),n("span",{attrs:{class:"token string"}},[e._v('"<MMS Server URL>"')]),e._v(" \\\n  -e MS_MON_AGENT_NAME"),n("span",{attrs:{class:"token operator"}},[e._v("=")]),n("span",{attrs:{class:"token string"}},[e._v('"<Display Name Agent>"')]),e._v("\n  -v "),n("span",{attrs:{class:"token operator"}},[e._v("<")]),e._v("local config path"),n("span",{attrs:{class:"token operator"}},[e._v(">")]),e._v(":/var/lib/ms-mon-agent/config.properties \\\n  --restart"),n("span",{attrs:{class:"token operator"}},[e._v("=")]),e._v("always \\\n  wssystems/mms-agent\n\ndocker start mms-agent  \n")])])])},function(){var e=this.$createElement,t=this._self._c||e;return t("h2",{attrs:{id:"authorizing-the-agent"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#authorizing-the-agent","aria-hidden":"true"}},[this._v("#")]),this._v(" Authorizing the Agent")])},function(){var e=this.$createElement,t=this._self._c||e;return t("p",[this._v("From the Monitor Web interface, access the Agents panel from "),t("strong",[this._v("Manage > Agents")]),this._v(". There you will see a listing of all the agents.\n"),t("img",{attrs:{src:n(170),alt:"Agent Listing"}})])},function(){var e=this.$createElement,t=this._self._c||e;return t("p",[this._v('To authorize the agent, click on the "Edit" button, then check the "Authorize Agent" checkbox, and then "Update Agent." Within 30 seconds, the agent will pull the configuration from the server and start working jobs that are in the queue (if there are any).\n'),t("img",{attrs:{src:n(169),alt:"Edit Dialog"}})])},function(){var e=this.$createElement,t=this._self._c||e;return t("h2",{attrs:{id:"updating-the-agent"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#updating-the-agent","aria-hidden":"true"}},[this._v("#")]),this._v(" Updating the Agent")])},function(){var e=this.$createElement,t=this._self._c||e;return t("div",{staticClass:"warning custom-block"},[t("p",{staticClass:"custom-block-title"},[this._v("WARNING")]),t("p",[this._v("You will want to make sure the job queue is empty when you stop the agent, else the job in progress might be delayed. If you need to update the agent while there are jobs queued, you can reauthorize the agent, wait about 5 minutes for the currently executing job to finish, then stop the agent.")])])},function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"language-bash extra-class"},[n("pre",{pre:!0,attrs:{class:"language-bash"}},[n("code",[e._v("docker stop mms-agent\ndocker "),n("span",{attrs:{class:"token function"}},[e._v("rm")]),e._v(" -v mms-agent\n\ndocker pull wssystems/mms-agent\n\ndocker create --name mms-agent \\\n  -e MS_MON_SERVER_URL"),n("span",{attrs:{class:"token operator"}},[e._v("=")]),n("span",{attrs:{class:"token string"}},[e._v('"<MMS Server URL>"')]),e._v(" \\\n  -e MS_MON_AGENT_NAME"),n("span",{attrs:{class:"token operator"}},[e._v("=")]),n("span",{attrs:{class:"token string"}},[e._v('"<Display Name Agent>"')]),e._v("\n  -v "),n("span",{attrs:{class:"token operator"}},[e._v("<")]),e._v("local config path"),n("span",{attrs:{class:"token operator"}},[e._v(">")]),e._v(":/var/lib/ms-mon-agent/config.properties \\\n  --restart"),n("span",{attrs:{class:"token operator"}},[e._v("=")]),e._v("always \\\n  wssystems/mms-agent\n\ndocker start mms-agent  \n")])])])}],s=n(0),r=Object(s.a)({},function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"content"},[e._m(0),n("p",[e._v("Agents are the workers for the Recorder Monitor. Agents allow the server component to be deployed outside of the network to which the recorders are connected to. This is especially useful in corporate or educational networks were security is key. If your web server will be running on the same network as the recorders, the directions below still apply, but you can deploy both the server image and the agent image to the same Docker host.")]),n("p",[e._v("The latest version of the Agent image is available in the "),n("a",{attrs:{href:"https://hub.docker.com/r/wssystems/mms-agent/",target:"_blank",rel:"noopener noreferrer"}},[e._v("Docker Hub"),n("OutboundLink")],1),e._v(", and is updated whenever a new version of Mediasite Recorder Monitor is released. It is important that the versions of the Agent and the Server match up to avoid incompatibilities and strange behaviors.")]),e._m(1),n("p",[e._v("You will first need to make sure that Docker (Community Edition is more than sufficient) is running on the host you want to deploy the agent to. Instructions on how to do this can be found on "),n("a",{attrs:{href:"https://docs.docker.com/install/",target:"_blank",rel:"noopener noreferrer"}},[e._v("Docker's Website"),n("OutboundLink")],1),e._v(".")]),n("p",[e._v("The agent authenticates with the server using a unique ID that is generated on first run, this is then saved to allow the agent to be authenticated, even after container restarts. While it is not required to setup the volume mapping for the container, it is recommended to reduce downtime.")]),e._m(2),e._m(3),e._m(4),n("p",[e._v("Once the agent has started up and gone through its initialization, it will register with the Server. You will need to authorize the agent before it can access your credentials and start working on queued jobs. This is to prevent unauthorized agents from gaining access to your configuration and causing issues in the Job Queue.")]),e._m(5),e._m(6),e._m(7),n("p",[e._v("When you update the Recorder Monitor Server, you may need to update the agent as well (this will typically be specified in the release/commit notes). To do so, you will need to stop and delete the existing agent container, then pull and start the new version.")]),e._m(8),e._m(9),n("p",[e._v("Because of the volume mapping, you will not need to reauthorize the agent.")])])},a,!1,null,null,null);t.default=r.exports}}]);